"use strict";
var __spreadArrays = (this && this.__spreadArrays) || function () {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
};
exports.__esModule = true;
exports.debug = void 0;
var lodash_1 = require("lodash");
var areaInput = ".#..#.....#....##..............\n...#.#...#...#.#..........#....\n#...###...#.#.....#.##.#.#...#.\n#.....#.#...##....#...#...#....\n##.......##.#.....#........##.#\n#..#....#......#..#......#...#.\n#..#......#.......#............\n##...#.#..#...#........#....##.\n#.#.#...#...#..#........#....#.\n.......#...........##......#...\n##.##.##......#..#............#\n..#.###..#..............#......\n.##..#.....#......#.#..........\n........#.........#....#....###\n#..........#........#.#.#......\n...##.....#..####.###..#.##....\n....#...###............#..#....\n...#.#...#.#...#..#.#........##\n.....#...#.............#..#....\n....#.#.#.##.....##.##....#....\n..#....#............#.##.##..#.\n.#..#..#................#...###\n#..###.#..##..#............#...\n.......#.#....#.##.#.##........\n##...###.#....#...........###.#\n...#.#....#..####.........#....\n....##........#.#.#.###........\n#...#..#.....#....##..#.##...#.\n##....................##..#....\n.#....##...........##...##...#.\n.#.#..#.........#.........#.#.#\n#.#..#.....#.#..#..#..#.#......\n...#.............#......#....##\n....#.#.......#....#...#.##...#\n#.#.#..###..........#...#......\n......#.....#..#..#.......##..#\n.#......#......#.....#...#.....\n......#..#......#.#............\n..#............#..#....#.#.....\n.....#..##.......#...##.###.#.#\n.....#........##....#.#...##..#\n..........##.#..#.#...#..#....#\n#.#.#.#.##...................#.\n.....#....##.....#..#...#..#...\n...#....#.............#....#.#.\n.........#.##..##..............\n#...#.#....#..#...#.......#....\n.#...#......#.##.#...#.#..###..\n..#.#.#......#..#...##..##.##..\n.........#.....#......##....##.\n...###.......#..#........#.....\n...#....#...#.#.#......##....#.\n.#.....#......#...##.##..#.....\n..#.##...#....####...##........\n..#.#.###....#..##.......##....\n.....#....##...#......#.......#\n.#....#......#..............#..\n.......#.#......#..#....#.#.#..\n.......#.#.........###....#....\n.#...#.......#.#..#..####....#.\n..#...#.#......#..#.##.###..#..\n..##.........#............#.#.#\n#.........##.##.........#.###..\n...#....#.......#..#..##.......\n.#....##........##.......#..#..\n...#.....#.#.##.#.#.....##.....\n.#.#........#.......#.#..#..#..\n.....####..##.##.#.#....#......\n..#.##.#.#.#....###..#....#.#..\n..##..#.#......##.#..#.........\n....#..#.#.##.......#...##.....\n....###.....#..###...#....###.#\n..#....#.......#......#...##..#\n..#..##......#....#.###..#..##.\n..#..#...............#.#.#.....\n...##...#.#..#.#...#......#....\n#....#...#.#.#.#.#....#....#...\n....##...#....#.....##..#.....#\n......##.....#...##..#.......#.\n......###......#....#.##..#....\n.....#........#........#...#..#\n.#..##.....##....#.#......#.#..\n#..#.#.....#........#......#.#.\n.#..#.##.....#####.#....#.#....\n....##........#..........#.#...\n.......#.....#.......#...#.#...\n.#....#...##.###....#.#......#.\n#...#...........##.#...........\n#...##.......#..#........#.#..#\n.....#..##..###....#.#.#....#..\n..#..#.....#............#.#....\n............#......#.....#.....\n.#..#.....##.........#....###.#\n#.........#....#....#.#..#...#.\n##.#...##....#..#...#.#...#....\n....###..##...................#\n....##...#......#...#.#...#...#\n#....#....###..........#...#..#\n.....##.#....###.###....#..###.\n#.....#...........#...........#\n##..###.##........#..#.#..#.#..\n.##...#..#.......#.#....#.....#\n......##..#..#.......#.#...##..\n......#..#..#.#...###..#.#....#\n#.##.#..#......#...##........##\n.....#..........##.....#...#...\n........#....##......#......#.#\n..#..#.#...#.#.#.......#......#\n.#....#........#............#..\n......##.....#...#.............\n#......##..#.......##....##.#..\n.....#..#..#...#.......#..#....\n...#..##.#..#.#....##.....#..##\n......#...#.#...#.#......###.#.\n.#.#...#.....#..###.....#......\n#..####.#....#.......##...#....\n.##.......#.....#.........#....\n#......##.#...............#....\n.######.#...##...#...#...#..##.\n....#...####....##.#..#...##...\n.#...................#.#..#..#.\n.#.#....##...#...#.#..#.#.#.#..\n......#......#........##.#...#.\n##..#...#..#.............##.#..\n#.............#..........#.#...\n...##.....#.............#......\n......###.....#................\n#.#.#....#..##.#.....#.........\n.#.#........#.........#.#.##.#.\n......#...##...#.#.....#....#..\n#...#.........##.##.#..........\n#..............#..#.......##...\n#...#......#.#......#...#....#.\n...#...#........#.#......#.###.\n##.....#...#.#..#..#..#.......#\n..#.##..##.........#...##.##...\n#....#....#.....#..........#...\n#.####..#..###.....#..#..#.....\n..#.....#.##.##..####....#.#.#.\n...#.#....#...#.......#..#.....\n......###...#.#..#..#..........\n.........#..#.....#.#.##......#\n.......#.#....##.....##.#..#.#.\n.#..#.#..#......##.###...##..#.\n....###...........#.....#....#.\n.#.##.....#..#.....#......##...\n#..##....#..........#.##.##..#.\n.###.#.#..#.#.....#..##....#.#.\n..##.#....#.....##..#..........\n##........#...#..#........###.#\n#...#...........##.......#.#...\n...###.....##.#....#...#...#...\n......#....#.#.......###....#..\n...#...#.......##.......###.#..\n..............#.#..........##..\n#.#....###..#..#.........#.....\n.###.#.......#.....#....#.#....\n.....###...#.#..#.#.......#....\n.........#.##.#......#.#..#....\n.......#....#....#.#....#..##.#\n...............#...##.#..#.#..#\n.....##........#..##...........\n.##.#..#....#..#.#...#.........\n.#.#..##.#..#......#....#.#...#\n##....#.......##...........#...\n..#...#.............#.#....#..#\n..#......#..#.....#...##.....#.\n....##...#.#...##...#..##......\n.....#..#..........#...........\n..##....#..#.#....#..#........#\n.###....#.....#.#....#..##.....\n#.......##.......#..#..#....#.#\n.##..#...........#..##..##..#..\n.#.................#...#....#..\n.######.......#............##..\n.#.........#......##.#.#.#.#.#.\n.#.......#...#...#....###....#.\n....#...##.#.#...#.....#.#..#..\n.#..#..#...#.....###....#......\n...#.##.###........#.....##....\n..#....#.#.#..........#..#..#..\n......#.....#...#..#..##..#.#..\n#.#.......##.......#....#.....#\n..#...#..#.#....#.##.##........\n..#....#..##..#..##......#.....\n#....#..##.....#....###........\n##...#......#..###.#.....#.....\n#..###....#...#...#...#......##\n.....###....#......#..#..#...#.\n.##......#.......##...#........\n....#.#.....##.....#.....#.....\n...##.#.....#..##...#...##.#...\n..#...#.#....#....#...##.......\n......#....#..#....#.#.........\n..........#.#.#...##....#......\n...#....................#..#...\n...#....###....#..#.....#.....#\n..#....#....#..#.#..##.#...#...\n..#.##....##.....#.#........#..\n#.....###..#.#.#...#..#....#...\n........#..#.#..#........##....\n.##....#................##.#.##\n..##...#.#.#.....##..#....#....\n....#..#....#..#........#..##..\n...#...##....#....#..##......#.\n##........#...#.....#.....#...#\n.#......#....##...#.........##.\n##........#...#.....#..#...#.#.\n...##..#..#.....#..###.#..#....\n....#..#..............#.......#\n.......#.##...#......#.###.....\n#........##..##....#.#.#.......\n#.#..##.#.......#..##.....###..\n.....##...#..#.....#...........\n...#..#..#......#...#.#........\n.#....#....#.#.....#.....#....#\n...#..#...#..#.##.#......#.#.#.\n..##....#..#..#.....#....#....#\n...#....#.##.#..#.###......#...\n.......#..#.....#.......#..#...\n..###.#####..#..##.#.........#.\n...#.......##...#.#..#.#......#\n....#...#.###..#..........#....\n...........#...#..##........#..\n.......#...#....#....#.#..#....\n.........#..........#...#....##\n.##.........##..#.......##.#...\n........#......###...##...#.#.#\n#.#...##.##...........#...#.#..\n.....###...#..##......#..#.....\n#.#.....#.#....##..........#..#\n#..#.......#.#.........####....\n#.#...#.....#........#.....#..#\n.....#..#.#.###.....#.#.###....\n.###..#......##..#..#..........\n#....#.#......#...#.##......#..\n..#.........##.#.....#.........\n...#....#.....##.#..#..##.#..#.\n##.....#.#..#.#....#......#....\n....###.#.....#.......#..#.#...\n#.....##.....##...........#....\n..........#..#......#.##...#...\n#...#.###....##....#.###..###..\n##........#.#...#..#.........#.\n##........##.......#.....###...\n.##....###........#..##...#...#\n......#..##....##.....#..#.#...\n.....#..##..#.......#.......#..\n......#....#.......##.#........\n.#.####.#..#......#..#.........\n.##..#....#...##.#....#....#...\n..#..#..#####.........#...#....\n....#.....#.#.#.#...#.#......#.\n....#...#.#..#.##...#...#......\n..#...#...#...#...#..#.#.##..#.\n..#......#.#.#.##.##.##..#.....\n#..###......#.##...#....#.##.#.\n.#.#.......##..##....##...##.#.\n.##......##....##.#.......#...#\n..#...#...................#....\n.#...#.......######.....#.#..##\n......#.##.....#.#.............\n...........##.#........#..#....\n#.............#.#.....#....##..\n#...........#...#..###.....#...\n....#.......#.#..#..#.#........\n......#...##.......#..##....#..\n......#.##.##..#........#.#...#\n.#..#...##...................#.\n.#.............#...#.#.#.#...#.\n.........#.....#........#.#....\n#..#...#.............##.#.....#\n...#.#....#...##............#..\n..#...#.##.###.#.....#......##.\n...#.#..###...#.#............#.\n...#....#........#.#...........\n.#......#.#.#.........#.#....#.\n....#..#......#.##.....#.#.....\n..#..###....#....#.........###.\n#..#.#....##.#....#.##..#......\n#..#.....#.#.....##..#.##......\n......#...#.#.............#..#.\n#.#....#.#..#...#......#.#.....\n..#.........#.#....#...#.......\n.#..#.#...#....#...#......#...#\n.......#........#.#..#..#...#..\n..##.#......#..##.##.#..#..#...\n.##...#....##.....#.....#...##.\n#.....##.#....#.#......##..#...\n.......#.#..#...#.......#.#...#\n..#...#.......#...#..##........\n#....##..#...#..#.#......#..#.#\n##.#....#....#....#...#..#.##..\n###........#.#..#..#......#....\n.#......#.....#....#.#..#...#..\n.#.....#.....#...##.......#..##\n#..##.#..#..........#..........\n...#.##.........#.#.##.#.......\n.#..#...............#...#.#.#..\n.....#.#.....#...####..#.....#.\n.#....#.##..##...#...##.#...#.#\n....#......##...#.#.#.....#.##.\n#...#..#.#...#.#.....##...#....\n..#..#....##..###......#..#....\n.........#......##.....##....#.\n.......#....#...#........###...\n.....#..#..#...#...#......#....\n..#..#...#.....#.....###..#.###\n............#.#..#..#....#.....\n...#..#...###.......#.......#..\n#.........#........#.....##....\n.#.#........#.....#........###.\n....#.##.#...#.#.#.....#....#..\n.##...#..#.......#.#...........\n##...#.##...#...........#.....#\n##....#.#.....##..#.......#....\n##....#...#....#..#.......####.\n......#...#..#.....#.#....#...#\n.......#.....#..###............\n#.#.#..#.....#.............#..#\n.#..#.....##.....#...#.......##\n..#.##........##...........#.#.\n....##.#..###.#.........#...##.";
function debug(item, msg) {
    console.log(item);
    return item;
}
exports.debug = debug;
function day3ab() {
    var start = { x: 1, y: 1 };
    var slopes = [
        { moveX: 1, moveY: 1 },
        { moveX: 3, moveY: 1 },
        { moveX: 5, moveY: 1 },
        { moveX: 7, moveY: 1 },
        { moveX: 1, moveY: 2 },
    ];
    var areaArrs = lodash_1.map(lodash_1.split(areaInput, "\n"), function (row) { return lodash_1.split(row, ''); });
    var columnsCount = areaArrs[0].length;
    var rowsCount = areaArrs.length;
    function returnTreesCount(slope) {
        var points = [];
        var newP = { x: 0, y: 0 };
        for (var p = lodash_1.cloneDeep(start); p.y <= rowsCount; p = lodash_1.cloneDeep(newP)) {
            var newX = p.x + slope.moveX;
            var newY = p.y + slope.moveY;
            if (newX > columnsCount) {
                newP = {
                    x: newX - columnsCount,
                    y: p.y + slope.moveY
                };
            }
            else {
                newP = {
                    x: newX,
                    y: newY
                };
            }
            if (newP.y <= rowsCount) {
                points = __spreadArrays(points, [newP]);
            }
        }
        var path = points.map(function (p) { return (areaArrs[p.y - 1])[p.x - 1]; });
        return lodash_1.filter(path, function (step) { return step === "#"; }).length;
    }
    return lodash_1.reduce(lodash_1.map(slopes, function (slope) { return returnTreesCount(slope); }), function (prev, next) { return next * prev; });
}
console.log(day3ab);
